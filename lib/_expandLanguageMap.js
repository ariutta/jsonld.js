import {_isString} from './_isString';
import {_isArray} from './_isArray';
import {JsonLdError} from './JsonLdError';
export function _expandLanguageMap(languageMap) {
      var rval = [];
      var keys = Object.keys(languageMap).sort();
      for (var ki = 0; ki < keys.length; ++ki) {
        var key = keys[ki];
        var val = languageMap[key];
        if (!_isArray(val)) {
          val = [val];
        }
        for (var vi = 0; vi < val.length; ++vi) {
          var item = val[vi];
          if (item === null) {
            // null values are allowed (8.5) but ignored (3.1)
            continue;
          }
          if (!_isString(item)) {
            throw new JsonLdError(
              'Invalid JSON-LD syntax; language map values must be strings.',
              'jsonld.SyntaxError',
              {
                code: 'invalid language map value',
                languageMap: languageMap
              });
          }
          rval.push({
            '@value': item,
            '@language': key.toLowerCase()
          });
        }
      }
      return rval;
    }
